#include "AD5065.h"

#include "xil_io.h"
#include "xparameters.h"

void setBothDacVoltage(UINTPTR addres, float voltage, float voltageRef) {
	float voltageRelative = voltage / voltageRef;
	int valueVoltage = (int)(65535*voltageRelative);

	// Multiply the value by 16 in order to compensate for the 4 LSB zeros
	Xil_Out32(addres, UPDATE_BOTH_DAC_COMMAND + 16*valueVoltage);
}

